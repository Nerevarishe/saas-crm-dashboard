version: "3.8"
services:
  db:
    image: nerevarishe/mongo:latest
    networks:
      - back
    restart: always
  
  backend:
    image: nerevarishe/saas-crm-dashboard-backend
    networks:
      - back
      - front
    restart: always
    depends_on:
      - db
      
  frontend:
    image: nerevarishe/saas-crm-dashboard-frontend
    ports:
      - 80:80
    networks:
      - front
    restart: always
    depends_on:
      - db
      - backend
      
    #cron:
    #  image: nerevarishe/cron:latest
    #environment:
    #  SOME_VARIABLES: "some_variables"
    #networks:
    #  - back
    #  - front
    #restart: always
    #depends_on:
    #  - db
    #  - backend
    #  - frontend

networks:
  back:
  front: